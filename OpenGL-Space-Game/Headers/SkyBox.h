#pragma once
#include "DrawableObject.h"
#include "Utils/Managers/ResourceManager.h"

// how to create a skybox that makes use of cube maps
// https://www.haroldserrano.com/blog/how-to-apply-a-skybox-in-opengl
// https://github.com/haroldserrano/renderingCubeMapIniOS/blob/master/openglesinc/Resources/Sky.h
class SkyBox :
	public DrawableObject
{
protected:
	//Cube Map Texture Object Target
	GLenum m_cube_map_target[6] = { 
		GL_TEXTURE_CUBE_MAP_POSITIVE_X,
		GL_TEXTURE_CUBE_MAP_NEGATIVE_X,
		GL_TEXTURE_CUBE_MAP_POSITIVE_Y,
		GL_TEXTURE_CUBE_MAP_NEGATIVE_Y,
		GL_TEXTURE_CUBE_MAP_POSITIVE_Z,
		GL_TEXTURE_CUBE_MAP_NEGATIVE_Z 
	};

	char m_cube_map_textures[6][255]
	{
		"Textures/skyboxes/sky1/Side1.png",
		"Textures/skyboxes/sky1/Side2.png",
		"Textures/skyboxes/sky1/Side3.png",
		"Textures/skyboxes/sky1/Side4.png",
		"Textures/skyboxes/sky1/Side5.png",
		"Textures/skyboxes/sky1/Side6.png",
	};

	GLuint m_vbo;
	// GLuint m_ebo;
	GLuint m_textureID;
	GLuint m_uv_map_uniform_loc;

public:
	SkyBox(Shader* the_shader);

	void Init(ResourceManager& pRes_man);

	virtual bool Update(float dt);
	virtual bool Draw(const Camera& the_active_camera);

	virtual void UpdateUniforms(const Camera& the_active_camera);

	GLfloat m_sky_verts[180] = {
		-0.5f,
		-0.5f,
		-0.5f,
		0.0f,
		0.0f,
		0.5f,
		-0.5f,
		-0.5f,
		1.0f,
		0.0f,
		0.5f,
		0.5f,
		-0.5f,
		1.0f,
		1.0f,
		0.5f,
		0.5f,
		-0.5f,
		1.0f,
		1.0f,
		-0.5f,
		0.5f,
		-0.5f,
		0.0f,
		1.0f,
		-0.5f,
		-0.5f,
		-0.5f,
		0.0f,
		0.0f,
		-0.5f,
		-0.5f,
		0.5f,
		0.0f,
		0.0f,
		0.5f,
		-0.5f,
		0.5f,
		1.0f,
		0.0f,
		0.5f,
		0.5f,
		0.5f,
		1.0f,
		1.0f,
		0.5f,
		0.5f,
		0.5f,
		1.0f,
		1.0f,
		-0.5f,
		0.5f,
		0.5f,
		0.0f,
		1.0f,
		-0.5f,
		-0.5f,
		0.5f,
		0.0f,
		0.0f,
		-0.5f,
		0.5f,
		0.5f,
		1.0f,
		0.0f,
		-0.5f,
		0.5f,
		-0.5f,
		1.0f,
		1.0f,
		-0.5f,
		-0.5f,
		-0.5f,
		0.0f,
		1.0f,
		-0.5f,
		-0.5f,
		-0.5f,
		0.0f,
		1.0f,
		-0.5f,
		-0.5f,
		0.5f,
		0.0f,
		0.0f,
		-0.5f,
		0.5f,
		0.5f,
		1.0f,
		0.0f,
		0.5f,
		0.5f,
		0.5f,
		1.0f,
		0.0f,
		0.5f,
		0.5f,
		-0.5f,
		1.0f,
		1.0f,
		0.5f,
		-0.5f,
		-0.5f,
		0.0f,
		1.0f,
		0.5f,
		-0.5f,
		-0.5f,
		0.0f,
		1.0f,
		0.5f,
		-0.5f,
		0.5f,
		0.0f,
		0.0f,
		0.5f,
		0.5f,
		0.5f,
		1.0f,
		0.0f,
		-0.5f,
		-0.5f,
		-0.5f,
		0.0f,
		1.0f,
		0.5f,
		-0.5f,
		-0.5f,
		1.0f,
		1.0f,
		0.5f,
		-0.5f,
		0.5f,
		1.0f,
		0.0f,
		0.5f,
		-0.5f,
		0.5f,
		1.0f,
		0.0f,
		-0.5f,
		-0.5f,
		0.5f,
		0.0f,
		0.0f,
		-0.5f,
		-0.5f,
		-0.5f,
		0.0f,
		1.0f,

		-0.5f,
		0.5f,
		-0.5f,
		0.0f,
		1.0f,
		0.5f,
		0.5f,
		-0.5f,
		1.0f,
		1.0f,
		0.5f,
		0.5f,
		0.5f,
		1.0f,
		0.0f,
		0.5f,
		0.5f,
		0.5f,
		1.0f,
		0.0f,
		-0.5f,
		0.5f,
		0.5f,
		0.0f,
		0.0f,
		-0.5f,
		0.5f,
		-0.5f,
		0.0f,
		1.0f
	};
};
